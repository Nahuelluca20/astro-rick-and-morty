---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import WrapperLayot from '../layouts/WrapperLayot.astro';

export interface Character {
  id:       number;
  name:     string;
  status:   string;
  species:  string;
  type:     string;
  gender:   string;
  origin:   Location;
  location: Location;
  image:    string;
  episode:  string[];
  url:      string;
  created:  Date;
}

export interface Location {
  name: string;
  url:  string;
}


const response = await fetch('https://rickandmortyapi.com/api/character');
const data = await response.json();
const dataResults = data.results;
---

<Layout title="Welcome to Astro.">
	<WrapperLayot>
    <ul class="flex flex-wrap gap-y-4">
		  {dataResults.map((character: Character) => (
		  	<Card
          imageCharacter={character.image}
		  		href={character.url}
		  		name={character.name}
		  		status={character.status}
          species={character.species}
          client:visible
		  	/>
		  ))}
    </ul>
	</WrapperLayot>
</Layout>

